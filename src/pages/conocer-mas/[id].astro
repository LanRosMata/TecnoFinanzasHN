---
import Layout from '../../layouts/Layout.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const infos = await getCollection('info');
  return infos.map((info) => ({
    params: { id: info.slug },
    props: { info },
  }));
}
const { info } = Astro.props;
const { data } = info;
const { titulo, descripcion } = data;
const { Content } = await render(info)
---

<Layout>
  <main class=" container mx-auto max-w-5xl my-10 px-10">
    <h1 class="font-bold text-2xl mb-10">{titulo}</h1>
    <div class=" mr-20 mb-10">
      <h2 class="text-xl font-bold">Resumen</h2>
      <p class="text-sm">{descripcion}</p>
    </div>
    <article class="text prose prose-invert prose-lg max-w-none">
      <Content  />
    </article>

  </main>
</Layout>

<script>
	import { gsap } from 'gsap';
	import { SplitText } from "gsap/SplitText";

	gsap.registerPlugin(SplitText);

	const splitText = new SplitText(".text", {
		type: "words, chars, lines"
	});

	gsap.from(splitText.lines, {
		duration: 1,
		y: 25,
		opacity: 0,
		stagger: 0.2
	})

</script>